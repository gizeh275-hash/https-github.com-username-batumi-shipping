const fs = require('fs');
const path = require('path');

// Читаем файл
const filePath = path.join(__dirname, 'lib', 'servicesData.ts');
let content = fs.readFileSync(filePath, 'utf8');

// ПОЛНЫЙ словарь замен для ВСЕХ услуг
// Основные часто встречающиеся слова и фразы
const commonFixes = {
    // Основные слова
    'РіСЂСѓР·': 'груз',
    'РїРµСЂРµРµР·Рґ': 'переезд',
    'С‚Р°РєСЃРё': 'такси',
    'РјСѓСЃРѕСЂ': 'мусор',
    'РіСЂСѓР·С‡РёРє': 'грузчик',
    'РѕС„РёСЃ': 'офис',
    'РЅРѕС‡': 'ноч',
    'РѕС‚': 'от',
    'в‚ѕ': '₾',

    // Города
    'Р'Р°С‚СѓРјРё': 'Батуми',
  'РўР±РёР»РёСЃРё': 'Тбилиси',
    'РљСѓС‚Р°РёСЃРё': 'Кутаиси',
    'Р"СЂСѓР·РёРё': 'Грузии',
    'Р"СЂСѓР·РёСЏ': 'Грузия',

    // Длинные фразы (важно делать в правильном порядке - сначала длинные, потом короткие)
    'Р Р°Р±РѕС‚Р°РµРј РїРѕ РІСЃРµР№ Р"СЂСѓР·РёРё': 'Работаем по всей Грузии',
    'РџРѕРїСѓР»СЏСЂРЅРѕ': 'Популярно',
    'РљРІР°СЂС‚РёСЂРЅС‹Р№': 'Квартирный',
    'РїРµСЂРµРµР·Рґ Р±РµР· С…Р°РѕСЃР°': 'переезд без хаоса',
    'Р±РµСЂРµР¶РЅР°СЏ СѓРїР°РєРѕРІРєР°': 'бережная упаковка',
    'СЂР°Р·Р±РѕСЂРєР° РјРµР±РµР»Рё': 'разборка мебели',
    'СЂР°СЃСЃС‚Р°РЅРѕРІРєР° РЅР° РЅРѕРІРѕРј РјРµСЃС‚Рµ': 'расстановка на новом месте',
    'РњР°С‚РµСЂРёР°Р»СЊРЅР°СЏ РѕС‚РІРµС‚СЃС‚РІРµРЅРЅРѕСЃС‚СЊ': 'Материальная ответственность',
    'СЃРѕС…СЂР°РЅРЅРѕСЃС‚СЊ': 'сохранность',
    'РґРѕСЃС‚Р°РІРєР°': 'доставка',
    'РїРѕРєСѓРїРѕРє': 'покупок',
    'РѕС„РёС†РёР°Р»СЊРЅ': 'официальн'
};

// Применяем замены
let fixedCount = 0;
Object.keys(commonFixes).forEach(key => {
    const value = commonFixes[key];
    if (content.includes(key)) {
        content = content.split(key).join(value);
        fixedCount++;
        console.log(`Fixed: ${key.substring(0, 30)} -> ${value}`);
    }
});

// Сохраняем
fs.writeFileSync(filePath, content, 'utf8');
console.log(`\nTotal fixes applied: ${fixedCount}`);
console.log('Encoding fix completed!');
